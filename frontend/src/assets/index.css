
/* Header */
.site-header            { background:#1f2937; color:#fff; }
.site-header .wrapper   { max-width:72rem; margin:0 auto; padding:1rem 1rem;
                          display:flex; align-items:center; justify-content:space-between; }
.site-header .brand     { font-size:1.25rem; font-weight:700; }
.main-nav ul            { list-style:none; display:flex; gap:1.5rem; margin:0; padding:0; }
.main-nav a             { color:#fff; text-decoration:none; }
.main-nav a:hover       { text-decoration:underline; }

/* Footer */
.site-footer            { background:#111827; color:#fff; margin-top:2rem; }
.site-footer .wrapper   { max-width:72rem; margin:0 auto; padding:1.5rem 1rem; text-align:center; }

/* Cos de la pàgina */
body                    { font-family:system-ui, sans-serif; margin:0; min-height:100vh; display:flex; flex-direction:column; }
main                    { flex-grow:1; }
h2                      { margin-top:0; }

/* Botons reutilitzables */
.btn-primary            { background:#2563eb; color:#fff; border:none; padding:0.5rem 1rem; cursor:pointer; }
.btn-secondary          { background:#e5e7eb; color:#111; border:none; padding:0.5rem 1rem; cursor:pointer; }
.btn-primary:hover      { background:#1e40af; }
.btn-secondary:hover    { background:#d1d5db; }

.link-button            { background:none; border:none; padding:0; margin:0; font:inherit; color:inherit; text-decoration:none; cursor:pointer; }
.link-button:hover      { text-decoration:underline; }

.map-container          { height:100vh; width:100%; flex-grow:2; }
  
.map                    { height:100%; }

.wrapper                { max-width:72rem; margin:0 auto; }

.map-sidebar {
  display: flex;
  gap: 1rem;
}

/* Mapa ocupa el 70% */
.map-sidebar .map-container {
  flex: 7;
}

/* Sidebar ocupa el 30% i fa scroll si sobra */
.map-sidebar .sidebar {
  flex: 3;
  max-height: calc(100vh - 4rem); /* ajusta 4rem segons header/footer */
  overflow-y: auto;
  padding: 0.5rem;
  border: 1px solid #ddd;
  border-radius: 0.5rem;
}

/* Reutilitza l’estil de la card */
.sidebar .card-anunci {
  margin-bottom: 1rem;
}

.map-toggle-btn {
  position: absolute;
  bottom: 1rem;          /* distància des del fons del mapa */
  left: 50%;             /* centrat horitzontal */
  transform: translateX(-50%);
  background: rgba(255,255,255,0.9);
  border: none;
  padding: 0.5rem 1rem;
  cursor: pointer;
  font: inherit;
  border-radius: 0.25rem;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  text-decoration: none;
  color: inherit;
}
.map-toggle-btn:hover {
  background: rgba(255,255,255,1);
}

.ads-wrapper {
  position: relative;   /* context per a botó absolut */
  min-height: 300px;    /* assegura espai perquè el botó no surti fora */
}

.ads-wrapper #ad-to-map {
  /* sobreescrivim .map-toggle-btn només dins ads-wrapper */
  position: absolute;
  bottom: 1rem;
  left: 50%;
  transform: translateX(-50%);
}

.ads-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  margin: 2rem 0;
}

/* mida i ajust de la imatge */
.card-img img {
  width: 100%;
  height: fit-content;
  object-fit: cover; 
  display: block;
}

/* assegura que la card creixi verticalment */
.card-anunci {
  display: flex;
  flex-direction: column;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: .5rem;
  overflow: hidden;
}
.card-body {
  padding: 1rem;
  flex: 1; /* que ocupi tot l’espai restant */
}

@media (max-width: 900px) {
  .ads-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .ads-grid .card-img img {
    width: 100%;
  }
}

/* Mòbils */
/* Quan la finestra < 600px, 1 sola columna */
@media (max-width: 600px) {
  .ads-grid {
    grid-template-columns: 1fr;
  }
  .ads-grid .card-img img {
    width: 100%;
  }
}

/* Imatge dins les cards del sidebar */
.sidebar .card-img img {
  width: 50%;
  height: 160px;
  object-fit: cover;
  display: block;
  border-bottom: 1px solid #eee;
}

/* Imatge al contingut del popup del mapa */
.mapboxgl-popup-content img {
  max-width: 100%;
  height: auto;
  display: block;
}

.hidden { display: none; }


/* Detall anunci */
.detall-wrap { display: grid; grid-template-columns: 1.2fr 1fr; gap: 1.25rem; }
@media (max-width: 900px){ .detall-wrap { grid-template-columns: 1fr; } }

.gallery img { width: 100%; height: auto; display: block; border-radius: .5rem; }

.badgetop { display:inline-block; background:#f59e0b; color:#111; font-weight:700;
            padding:.2rem .45rem; border-radius:.35rem; margin-left:.4rem; }
.hidden { display: none !important; }

.info-block { background:#fff; border:1px solid #e5e7eb; border-radius:.5rem; padding:1rem; }
.info-grid  { display:grid; grid-template-columns: 1fr 1fr; gap:.75rem .75rem; }
.info-grid div { padding:.25rem 0; }

#map-detall { width:100%; height:280px; border-radius:.5rem; }

/* Popup del mapa (imatge responsiva) */
.mapboxgl-popup-content img { max-width:100%; height:auto; display:block; }


/* Targeta del formulari */
.form-card {
  width: 100%;
  max-width: 32rem;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: .5rem;
  padding: 1.25rem;
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
}

/* Títol */
.form-card h1{
  margin: 0 0 1rem 0;
  font-size: 1.75rem;
}

/* Camps del formulari */
.form-card label {
  display: block;
  font-weight: 600;
  margin-bottom: .75rem;
}

.form-card input:focus {
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, .2);
}

/* Accions del formulari */
.form-actions {
  display: flex;
  gap: .5rem;
  margin-top: .5rem;
}

/* Errors */
.form-error {
  display: none;            /* el JS el posa a block quan cal */
  background: #fee2e2;
  border: 1px solid #fecaca;
  color: #991b1b;
  padding: .5rem .75rem;
  border-radius: .375rem;
}

/* Botons com enllaç */
.btn-primary, .btn-secondary, .link-button,
.form-card a.btn-primary, .form-card a.btn-secondary {
  text-decoration: none;
}

.form-card input:not([type="checkbox"]):not([type="radio"]) {
  width: 100%;
  padding: .65rem .75rem;
  border: 1px solid #d1d5db;
  border-radius: .375rem;
  outline: none;
  background: #fff;
  box-sizing: border-box;
  display: block;
}

/* Responsive petit: separa una mica el formulari del marge superior */
@media (max-width: 480px) {
  .auth-page {
    padding-top: 1rem;
  }
}

.badge { position:absolute; top:.5rem; left:.5rem; background:#f59e0b; color:#111; font-weight:700; padding:.15rem .4rem; border-radius:.35rem; }
.tags .tag { display:inline-block; background:#eef2ff; color:#1e3a8a; padding:.15rem .4rem; border-radius:.35rem; margin-right:.25rem; margin-bottom:.25rem; font-size:.85rem; }


.profile-grid {
  display:grid;
  grid-template-columns: 1fr 1fr; /* 50/50 */
  gap:1rem;
}
@media (max-width: 768px){
  .profile-grid { grid-template-columns: 1fr; }
}

.field-row { display:flex; gap:.5rem; align-items:center; padding:.25rem 0; }
.field-row .v { flex:1; }
.field-row .i { flex:1; max-width:360px; }

.inline-actions > * { margin-right:.5rem; }

.hidden { display:none !important; }
.btn-danger { background:#ef4444; color:#fff; border:none; padding:.5rem 1rem; cursor:pointer; }
.btn-danger:hover { background:#dc2626; }

